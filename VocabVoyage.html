<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VocabVoyage AI - ‡∏ù‡∏∂‡∏Å‡∏®‡∏±‡∏û‡∏ó‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f0f4f8;
            color: #073B4C;
        }
        .card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 2rem;
            transition: all 0.3s ease-in-out;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            text-transform: uppercase;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .btn:disabled {
            background-color: #94a3b8;
            cursor: not-allowed;
        }
        .btn-primary {
            background-color: #118AB2;
            color: white;
        }
        .btn-primary:hover:not(:disabled) {
            background-color: #073B4C;
        }
        .btn-secondary {
            background-color: #FFD166;
            color: #073B4C;
        }
        .btn-secondary:hover:not(:disabled) {
             background-color: #e5b84a;
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(255, 107, 107, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 107, 107, 0); }
        }
        
        .reward-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }
        .reward-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .reward-modal-content {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            text-align: center;
            transform: scale(0.7);
            transition: all 0.3s ease-in-out;
        }
        .reward-modal-overlay.active .reward-modal-content {
            transform: scale(1);
        }
        .treasure-chest {
            width: 150px;
            height: 150px;
            margin: 0 auto 1rem;
            position: relative;
            font-size: 100px;
            line-height: 150px;
        }
        .chest-open {
            animation: open-chest 1s forwards;
        }
        @keyframes open-chest {
            0% { transform: rotate(0deg); }
            50% { transform: rotate(-20deg); }
            100% { transform: rotate(-15deg); }
        }
        .reward-item {
            animation: reveal-item 1.5s forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        @keyframes reveal-item {
            0% { opacity: 0; }
            50% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <div id="app" class="container mx-auto p-4 max-w-2xl text-center">

        <!-- Game Screen -->
        <div id="game-screen">
            <header class="mb-4">
                 <h1 class="text-3xl font-bold mb-2">VocabVoyage AI</h1>
            </header>
            <main id="game-card" class="card">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <div><span class="text-gray-500">Level</span><p id="level-display" class="text-2xl font-bold text-[#118AB2]">1</p></div>
                    <div><span class="text-gray-500">‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà</span><p id="word-progress-display" class="text-2xl font-bold">1 / 15</p></div>
                    <div>
                        <span class="text-gray-500">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
                        <div class="flex items-baseline justify-center gap-1">
                            <p id="score-display" class="text-2xl font-bold text-[#06D6A0]">0.00</p>
                            <p class="text-sm text-gray-500">/ 10</p>
                        </div>
                    </div>
                </div>
                <div class="my-8">
                    <div class="flex items-center justify-center gap-4">
                        <h2 id="word-display" class="text-6xl md:text-7xl font-bold tracking-wider">Hello</h2>
                        <button id="listen-button" title="‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á" class="bg-blue-100 text-blue-600 rounded-full p-3 text-2xl hover:bg-blue-200 transition-colors">üîä</button>
                    </div>
                    <p id="ipa-display" class="text-2xl text-gray-500 mt-2">/h…ôÀàlo ä/</p>
                    <p id="thai-display" class="text-2xl text-[#06D6A0] font-semibold mt-2">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ</p>
                </div>
                <button id="speak-button" class="btn btn-primary w-full md:w-auto pulse-animation">üé§ ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î</button>
                <div id="result-display" class="mt-6 p-4 rounded-lg min-h-[100px] flex items-center justify-center transition-all duration-300"><p id="result-text" class="text-lg font-semibold">‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á...</p></div>
                <button id="next-button" class="btn btn-secondary w-full mt-4" style="display: none;">‡∏Ñ‡∏≥‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚Üí</button>
            </main>
        </div>

        <!-- Reward Modal -->
        <div id="reward-modal" class="reward-modal-overlay">
            <div class="reward-modal-content">
                <h2 class="text-2xl font-bold mb-2">‡∏ú‡πà‡∏≤‡∏ô‡∏î‡πà‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
                <div id="treasure-chest-icon" class="treasure-chest">üì¶</div>
                <div id="reward-item-display" class="reward-item">
                    <p class="text-gray-600">‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:</p>
                    <p id="reward-item-name" class="text-xl font-bold"></p>
                </div>
                <button id="close-reward-button" class="btn btn-primary w-full mt-6">‡πÑ‡∏õ‡∏î‡πà‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ!</button>
            </div>
        </div>
    </div>

    <script>
        // --- VOCABULARY & REWARD DATA ---
        const allWords = [
            {word: "ability", ipa:"/…ôÀàb…™l.…ô.tÃ¨i/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ"}, {word: "account", ipa:"/…ôÀàka änt/", thai: "‡∏ö‡∏±‡∏ç‡∏ä‡∏µ"}, {word: "access", ipa:"/Àà√¶k.ses/", thai: "‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á"}, {word: "achieve", ipa:"/…ôÀàt ÉiÀêv/", thai: "‡∏ö‡∏£‡∏£‡∏•‡∏∏"}, {word: "advantage", ipa:"/…ôdÀàv√¶n.tÃ¨…™d í/", thai: "‡∏Ç‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö"}, {word: "affect", ipa:"/…ôÀàfekt/", thai: "‡∏™‡πà‡∏á‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö"}, {word: "algorithm", ipa:"/Àà√¶l.…°…ô.r…™.√∞…ôm/", thai: "‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°"}, {word: "allow", ipa:"/…ôÀàla ä/", thai: "‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï"}, {word: "analysis", ipa:"/…ôÀàn√¶l.…ô.s…™s/", thai: "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå"}, {word: "application", ipa:"/Àå√¶p.l…ôÀàke…™. É…ôn/", thai: "‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô"}, {word: "artificial", ipa:"/Àå…ëÀêr.tÃ¨…ôÀàf…™ É.…ôl/", thai: "‡πÄ‡∏ó‡∏µ‡∏¢‡∏°"}, {word: "aspect", ipa:"/Àà√¶s.pekt/", thai: "‡πÅ‡∏á‡πà‡∏°‡∏∏‡∏°"}, {word: "assistant", ipa:"/…ôÀàs…™s.t…ônt/", thai: "‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢"}, {word: "automatic", ipa:"/Àå…ëÀê.tÃ¨…ôÀàm√¶tÃ¨.…™k/", thai: "‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥"}, {word: "aware", ipa:"/…ôÀàwer/", thai: "‡∏ï‡∏£‡∏∞‡∏´‡∏ô‡∏±‡∏Å"},
            {word: "basic", ipa:"/Ààbe…™.s…™k/", thai: "‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô"}, {word: "benefit", ipa:"/Ààben.…ô.f…™t/", thai: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå"}, {word: "calculate", ipa:"/Ààk√¶l.kj…ô.le…™t/", thai: "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì"}, {word: "capacity", ipa:"/k…ôÀàp√¶s.…ô.tÃ¨i/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏"}, {word: "challenge", ipa:"/Ààt É√¶l.…™nd í/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢"}, {word: "change", ipa:"/t Ée…™nd í/", thai: "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á"}, {word: "code", ipa:"/ko äd/", thai: "‡∏£‡∏´‡∏±‡∏™/‡πÇ‡∏Ñ‡πâ‡∏î"}, {word: "collect", ipa:"/k…ôÀàlekt/", thai: "‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°"}, {word: "communication", ipa:"/k…ôÀåmjuÀê.n…ôÀàke…™. É…ôn/", thai: "‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£"}, {word: "complex", ipa:"/Ààk…ëÀêm.pleks/", thai: "‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô"}, {word: "computer", ipa:"/k…ômÀàpjuÀê.tÃ¨…ö/", thai: "‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå"}, {word: "connect", ipa:"/k…ôÀànekt/", thai: "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠"}, {word: "consider", ipa:"/k…ônÀàs…™d.…ö/", thai: "‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤"}, {word: "contain", ipa:"/k…ônÀàte…™n/", thai: "‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢"}, {word: "control", ipa:"/k…ônÀàtro äl/", thai: "‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°"},
            {word: "create", ipa:"/kriÀàe…™t/", thai: "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå"}, {word: "current", ipa:"/Ààk…ùÀê.…ônt/", thai: "‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô"}, {word: "data", ipa:"/Ààde…™.tÃ¨…ô/", thai: "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"}, {word: "define", ipa:"/d…™Ààfa…™n/", thai: "‡∏Å‡∏≥‡∏´‡∏ô‡∏î/‡∏ô‡∏¥‡∏¢‡∏≤‡∏°"}, {word: "design", ipa:"/d…™Ààza…™n/", thai: "‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö"}, {word: "develop", ipa:"/d…™Ààvel.…ôp/", thai: "‡∏û‡∏±‡∏í‡∏ô‡∏≤"}, {word: "device", ipa:"/d…™Ààva…™s/", thai: "‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå"}, {word: "digital", ipa:"/Ààd…™d í.…ô.tÃ¨…ôl/", thai: "‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•"}, {word: "discover", ipa:"/d…™Ààsk åv.…ö/", thai: "‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö"}, {word: "discuss", ipa:"/d…™Ààsk ås/", thai: "‡∏≠‡∏†‡∏¥‡∏õ‡∏£‡∏≤‡∏¢"}, {word: "display", ipa:"/d…™Ààsple…™/", thai: "‡∏à‡∏±‡∏î‡πÅ‡∏™‡∏î‡∏á/‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠"}, {word: "effective", ipa:"/…ôÀàfek.t…™v/", thai: "‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û"}, {word: "efficient", ipa:"/…™Ààf…™ É.…ônt/", thai: "‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û"}, {word: "electronic", ipa:"/iÀålekÀàtr…ëÀê.n…™k/", thai: "‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå"}, {word: "essential", ipa:"/…™Ààsen. É…ôl/", thai: "‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô"},
            {word: "feature", ipa:"/ÀàfiÀê.t É…ö/", thai: "‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥"}, {word: "function", ipa:"/Ààf å≈ãk. É…ôn/", thai: "‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô"}, {word: "generate", ipa:"/Ààd íen.…ô.re…™t/", thai: "‡∏™‡∏£‡πâ‡∏≤‡∏á"}, {word: "goal", ipa:"/…°o äl/", thai: "‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢"}, {word: "hardware", ipa:"/Ààh…ëÀêrd.wer/", thai: "‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå"}, {word: "human", ipa:"/ÀàhjuÀê.m…ôn/", thai: "‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå"}, {word: "identify", ipa:"/a…™Ààden.tÃ¨…ô.fa…™/", thai: "‡∏£‡∏∞‡∏ö‡∏∏"}, {word: "image", ipa:"/Àà…™m.…™d í/", thai: "‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"}, {word: "impact", ipa:"/Àà…™m.p√¶kt/", thai: "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö"}, {word: "improve", ipa:"/…™mÀàpruÀêv/", thai: "‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á"}, {word: "include", ipa:"/…™nÀàkluÀêd/", thai: "‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á"}, {word: "increase", ipa:"/…™nÀàkriÀês/", thai: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô"}, {word: "industry", ipa:"/Àà…™n.d…ô.stri/", thai: "‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°"}, {word: "information", ipa:"/Àå…™n.f…öÀàme…™. É…ôn/", thai: "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"}, {word: "input", ipa:"/Àà…™n.p ät/", thai: "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤"},
            {word: "install", ipa:"/…™nÀàst…îÀêl/", thai: "‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á"}, {word: "instruction", ipa:"/…™nÀàstr åk. É…ôn/", thai: "‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á"}, {word: "intelligence", ipa:"/…™nÀàtel.…ô.d í…ôns/", thai: "‡∏õ‡∏±‡∏ç‡∏ç‡∏≤"}, {word: "interact", ipa:"/Àå…™n.tÃ¨…öÀà√¶kt/", thai: "‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö"}, {word: "internet", ipa:"/Àà…™n.tÃ¨…ö.net/", thai: "‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï"}, {word: "invent", ipa:"/…™nÀàvent/", thai: "‡∏õ‡∏£‡∏∞‡∏î‡∏¥‡∏©‡∏ê‡πå"}, {word: "issue", ipa:"/Àà…™ É.uÀê/", thai: "‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô"}, {word: "knowledge", ipa:"/Ààn…ëÀê.l…™d í/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ"}, {word: "language", ipa:"/Ààl√¶≈ã.…°w…™d í/", thai: "‡∏†‡∏≤‡∏©‡∏≤"}, {word: "learn", ipa:"/l…ùÀên/", thai: "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ"}, {word: "level", ipa:"/Ààlev.…ôl/", thai: "‡∏£‡∏∞‡∏î‡∏±‡∏ö"}, {word: "limit", ipa:"/Ààl…™m.…™t/", thai: "‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î"}, {word: "machine", ipa:"/m…ôÀà ÉiÀên/", thai: "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£"}, {word: "manage", ipa:"/Ààm√¶n.…™d í/", thai: "‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£"}, {word: "measure", ipa:"/Ààme í.…ö/", thai: "‡∏ß‡∏±‡∏î‡∏ú‡∏•"},
            {word: "memory", ipa:"/Ààmem.…ô.ri/", thai: "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥"}, {word: "method", ipa:"/ÀàmeŒ∏.…ôd/", thai: "‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£"}, {word: "mobile", ipa:"/Ààmo ä.b…ôl/", thai: "‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà/‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠"}, {word: "model", ipa:"/Ààm…ëÀê.d…ôl/", thai: "‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á"}, {word: "modern", ipa:"/Ààm…ëÀê.d…ön/", thai: "‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢"}, {word: "network", ipa:"/Àànet.w…ùÀêk/", thai: "‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢"}, {word: "operate", ipa:"/Àà…ëÀê.p…ô.re…™t/", thai: "‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£"}, {word: "opportunity", ipa:"/Àå…ëÀê.p…öÀàtuÀê.n…ô.tÃ¨i/", thai: "‡πÇ‡∏≠‡∏Å‡∏≤‡∏™"}, {word: "option", ipa:"/Àà…ëÀêp. É…ôn/", thai: "‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å"}, {word: "output", ipa:"/Ààa ät.p ät/", thai: "‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå"}, {word: "pattern", ipa:"/Ààp√¶tÃ¨.…ön/", thai: "‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö"}, {word: "perform", ipa:"/p…öÀàf…îÀêrm/", thai: "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£"}, {word: "personal", ipa:"/Ààp…ùÀê.s…ôn.…ôl/", thai: "‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•"}, {word: "plan", ipa:"/pl√¶n/", thai: "‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô"}, {word: "platform", ipa:"/Ààpl√¶t.f…îÀêrm/", thai: "‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°"},
            {word: "absorb", ipa:"/…ôbÀàz…îÀêrb/", thai: "‡∏î‡∏π‡∏î‡∏ã‡∏±‡∏ö"}, {word: "atmosphere", ipa:"/Àà√¶t.m…ô.sf…™r/", thai: "‡∏ä‡∏±‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®"}, {word: "biodiversity", ipa:"/Àåba…™.o ä.da…™Ààv…ùÀê.s…ô.tÃ¨i/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏ä‡∏µ‡∏ß‡∏†‡∏≤‡∏û"}, {word: "carbon", ipa:"/Ààk…ëÀêr.b…ôn/", thai: "‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô"}, {word: "climate", ipa:"/Ààkla…™.m…ôt/", thai: "‡∏™‡∏†‡∏≤‡∏û‡∏†‡∏π‡∏°‡∏¥‡∏≠‡∏≤‡∏Å‡∏≤‡∏®"}, {word: "conserve", ipa:"/k…ônÀàs…ùÀêv/", thai: "‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå"}, {word: "consumption", ipa:"/k…ônÀàs åmp. É…ôn/", thai: "‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ"}, {word: "contaminate", ipa:"/k…ônÀàt√¶m.…ô.ne…™t/", thai: "‡∏õ‡∏ô‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô"}, {word: "crisis", ipa:"/Ààkra…™.s…™s/", thai: "‡∏ß‡∏¥‡∏Å‡∏§‡∏ï"}, {word: "damage", ipa:"/Ààd√¶m.…™d í/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢"}, {word: "deforestation", ipa:"/diÀêÀåf…îÀêr.…ôÀàste…™. É…ôn/", thai: "‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡πÑ‡∏°‡πâ‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏õ‡πà‡∏≤"}, {word: "degrade", ipa:"/d…™Àà…°re…™d/", thai: "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏ó‡∏£‡∏°"}, {word: "destroy", ipa:"/d…™Ààstr…î…™/", thai: "‡∏ó‡∏≥‡∏•‡∏≤‡∏¢"}, {word: "disaster", ipa:"/d…™Ààz√¶s.t…ö/", thai: "‡∏†‡∏±‡∏¢‡∏û‡∏¥‡∏ö‡∏±‡∏ï‡∏¥"}, {word: "dispose", ipa:"/d…™Ààspo äz/", thai: "‡∏Å‡∏≥‡∏à‡∏±‡∏î"},
            {word: "drought", ipa:"/dra ät/", thai: "‡∏†‡∏±‡∏¢‡πÅ‡∏•‡πâ‡∏á"}, {word: "ecology", ipa:"/iÀàk…ëÀê.l…ô.d íi/", thai: "‡∏ô‡∏¥‡πÄ‡∏ß‡∏®‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤"}, {word: "ecosystem", ipa:"/ÀàiÀê.ko äÀås…™s.t…ôm/", thai: "‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏¥‡πÄ‡∏ß‡∏®"}, {word: "emission", ipa:"/iÀàm…™ É.…ôn/", thai: "‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡πà‡∏≠‡∏¢"}, {word: "endangered", ipa:"/…™nÀàde…™n.d í…öd/", thai: "‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏π‡∏ç‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå"}, {word: "energy", ipa:"/Ààen.…ö.d íi/", thai: "‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô"}, {word: "environment", ipa:"/…™nÀàva…™.r…ôn.m…ônt/", thai: "‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°"}, {word: "erode", ipa:"/…™Ààro äd/", thai: "‡∏Å‡∏±‡∏î‡πÄ‡∏ã‡∏≤‡∏∞"}, {word: "exhaust", ipa:"/…™…°Ààz…ëÀêst/", thai: "‡πÑ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢/‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏î"}, {word: "exploit", ipa:"/…™kÀàspl…î…™t/", thai: "‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå"}, {word: "extinct", ipa:"/…™kÀàst…™≈ãkt/", thai: "‡∏™‡∏π‡∏ç‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå"}, {word: "famine", ipa:"/Ààf√¶m.…™n/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏î‡∏≠‡∏¢‡∏≤‡∏Å"}, {word: "fertile", ipa:"/Ààf…ùÀê.tÃ¨…ôl/", thai: "‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå"}, {word: "flood", ipa:"/fl åd/", thai: "‡∏ô‡πâ‡∏≥‡∏ó‡πà‡∏ß‡∏°"}, {word: "fossil fuel", ipa:"/Ààf…ëÀê.s…ôl Àåfj ä…ôl/", thai: "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á‡∏ü‡∏≠‡∏™‡∏ã‡∏¥‡∏•"},
            {word: "accommodation", ipa:"/…ôÀåk…ëÀê.m…ôÀàde…™. É…ôn/", thai: "‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å"}, {word: "adventure", ipa:"/…ôdÀàven.t É…ö/", thai: "‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢"}, {word: "airline", ipa:"/Ààer.la…™n/", thai: "‡∏™‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô"}, {word: "arrival", ipa:"/…ôÀàra…™.v…ôl/", thai: "‡∏Å‡∏≤‡∏£‡∏°‡∏≤‡∏ñ‡∏∂‡∏á"}, {word: "attraction", ipa:"/…ôÀàtr√¶k. É…ôn/", thai: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß"}, {word: "baggage", ipa:"/Ààb√¶…°.…™d í/", thai: "‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏£‡∏∞"}, {word: "beach", ipa:"/biÀêt É/", thai: "‡∏ä‡∏≤‡∏¢‡∏´‡∏≤‡∏î"}, {word: "book", ipa:"/b äk/", thai: "‡∏à‡∏≠‡∏á"}, {word: "budget", ipa:"/Ààb åd í.…™t/", thai: "‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì"}, {word: "cancel", ipa:"/Ààk√¶n.s…ôl/", thai: "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}, {word: "cheap", ipa:"/t ÉiÀêp/", thai: "‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å"}, {word: "check-in", ipa:"/Ààt Éek.…™n/", thai: "‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô"}, {word: "city", ipa:"/Ààs…™tÃ¨.i/", thai: "‡πÄ‡∏°‡∏∑‡∏≠‡∏á"}, {word: "convenient", ipa:"/k…ônÀàviÀên.j…ônt/", thai: "‡∏™‡∏∞‡∏î‡∏ß‡∏Å"}, {word: "country", ipa:"/Ààk ån.tri/", thai: "‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®"},
            {word: "culture", ipa:"/Ààk ål.t É…ö/", thai: "‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°"}, {word: "customs", ipa:"/Ààk ås¬∑t…ômz/", thai: "‡∏®‡∏∏‡∏•‡∏Å‡∏≤‡∏Å‡∏£"}, {word: "delicious", ipa:"/d…™Ààl…™ É¬∑…ôs/", thai: "‡∏≠‡∏£‡πà‡∏≠‡∏¢"}, {word: "departure", ipa:"/d…™Ààp…ër¬∑t É…ôr/", thai: "‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á"}, {word: "destination", ipa:"/Àådes¬∑t…ôÀàne…™¬∑ É…ôn/", thai: "‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á"}, {word: "direct", ipa:"/d…ôÀàrekt/", thai: "‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á"}, {word: "discount", ipa:"/Ààd…™sÀåka änt/", thai: "‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î"}, {word: "discover", ipa:"/d…™Ààsk åv¬∑…ôr/", thai: "‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö"}, {word: "enjoy", ipa:"/…™nÀàd í…î…™/", thai: "‡∏™‡∏ô‡∏∏‡∏Å"}, {word: "entertainment", ipa:"/Àåen¬∑t…ôrÀàte…™n¬∑m…ônt/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á"}, {word: "entrance", ipa:"/Ààen¬∑tr…ôns/", thai: "‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤"}, {word: "equipment", ipa:"/…™Ààkw…™p¬∑m…ônt/", thai: "‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå"}, {word: "expensive", ipa:"/…™kÀàspen¬∑s…™v/", thai: "‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏û‡∏á"}, {word: "experience", ipa:"/…™kÀàsp…™…ôr¬∑i¬∑…ôns/", thai: "‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå"}, {word: "explore", ipa:"/…™kÀàspl…îr/", thai: "‡∏™‡∏≥‡∏£‡∏ß‡∏à"},
            {word: "family", ipa:"/Ààf√¶m¬∑…ô¬∑li/", thai: "‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß"}, {word: "famous", ipa:"/Ààfe…™¬∑m…ôs/", thai: "‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á"}, {word: "fantastic", ipa:"/f√¶nÀàt√¶s¬∑t…™k/", thai: "‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"}, {word: "far", ipa:"/f…ër/", thai: "‡πÑ‡∏Å‡∏•"}, {word: "fast", ipa:"/f√¶st/", thai: "‡πÄ‡∏£‡πá‡∏ß"}, {word: "flight", ipa:"/fla…™t/", thai: "‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô"}, {word: "foreign", ipa:"/Ààf…îr¬∑…ôn/", thai: "‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®"}, {word: "forget", ipa:"/f…ôrÀà…°et/", thai: "‡∏•‡∏∑‡∏°"}, {word: "free", ipa:"/fri/", thai: "‡∏ü‡∏£‡∏µ/‡∏ß‡πà‡∏≤‡∏á"}, {word: "friend", ipa:"/frend/", thai: "‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô"}, {word: "fun", ipa:"/f ån/", thai: "‡∏™‡∏ô‡∏∏‡∏Å"}, {word: "go", ipa:"/…°o ä/", thai: "‡πÑ‡∏õ"}, {word: "guide", ipa:"/…°a…™d/", thai: "‡∏°‡∏±‡∏Ñ‡∏Ñ‡∏∏‡πÄ‡∏ó‡∏®‡∏Å‡πå"}, {word: "happy", ipa:"/Ààh√¶p¬∑i/", thai: "‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç"}, {word: "healthy", ipa:"/Ààhel¬∑Œ∏i/", thai: "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ"},
            {word: "help", ipa:"/help/", thai: "‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠"}, {word: "here", ipa:"/h…™…ôr/", thai: "‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà"}, {word: "holiday", ipa:"/Ààh…ël¬∑…ôÀåde…™/", thai: "‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î"}, {word: "home", ipa:"/ho äm/", thai: "‡∏ö‡πâ‡∏≤‡∏ô"}, {word: "hospitality", ipa:"/Àåh…ës¬∑p…™Ààt√¶l¬∑…™¬∑tÃ¨i/", thai: "‡∏Å‡∏≤‡∏£‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö"}, {word: "hostel", ipa:"/Ààh…ës¬∑t…ôl/", thai: "‡πÇ‡∏Æ‡∏™‡πÄ‡∏ó‡∏•"}, {word: "hot", ipa:"/h…ët/", thai: "‡∏£‡πâ‡∏≠‡∏ô"}, {word: "hotel", ipa:"/ho äÀàtel/", thai: "‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°"}, {word: "hour", ipa:"/a ä…ôr/", thai: "‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á"}, {word: "idea", ipa:"/a…™Ààdi¬∑…ô/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î"}, {word: "important", ipa:"/…™mÀàp…îr¬∑t…ônt/", thai: "‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç"}, {word: "information", ipa:"/Àå…™n¬∑f…ôrÀàme…™¬∑ É…ôn/", thai: "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"}, {word: "interest", ipa:"/Àà…™n¬∑tr…ôst/", thai: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à"}, {word: "international", ipa:"/Àå…™n¬∑t…ôrÀàn√¶ É¬∑…ô¬∑n…ôl/", thai: "‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®"}, {word: "interview", ipa:"/Àà…™n¬∑t…ôrÀåvju/", thai: "‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå"},
            {word: "island", ipa:"/Ààa…™¬∑l…ônd/", thai: "‡πÄ‡∏Å‡∏≤‡∏∞"}, {word: "itinerary", ipa:"/a…™Ààt…™n¬∑…ôÀårer¬∑i/", thai: "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á"}, {word: "journey", ipa:"/Ààd í…úr¬∑ni/", thai: "‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á"}, {word: "know", ipa:"/no ä/", thai: "‡∏£‡∏π‡πâ"}, {word: "landmark", ipa:"/Ààl√¶ndÀåm…ërk/", thai: "‡πÅ‡∏•‡∏ô‡∏î‡πå‡∏°‡∏≤‡∏£‡πå‡∏Ñ"}, {word: "language", ipa:"/Ààl√¶≈ã¬∑…°w…™d í/", thai: "‡∏†‡∏≤‡∏©‡∏≤"}, {word: "leave", ipa:"/liv/", thai: "‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å"}, {word: "left", ipa:"/left/", thai: "‡∏ã‡πâ‡∏≤‡∏¢"}, {word: "leisure", ipa:"/Ààli¬∑ í…ôr/", thai: "‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡πà‡∏≤‡∏á"}, {word: "like", ipa:"/la…™k/", thai: "‡∏ä‡∏≠‡∏ö"}, {word: "live", ipa:"/l…™v/", thai: "‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏≠‡∏¢‡∏π‡πà"}, {word: "local", ipa:"/Ààlo ä¬∑k…ôl/", thai: "‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô"}, {word: "locate", ipa:"/Ààlo ä¬∑ke…™t/", thai: "‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà"}, {word: "look", ipa:"/l äk/", thai: "‡∏î‡∏π"}, {word: "love", ipa:"/l åv/", thai: "‡∏£‡∏±‡∏Å"},
            {word: "luggage", ipa:"/Ààl å…°¬∑…™d í/", thai: "‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á"}, {word: "luxury", ipa:"/Ààl åk¬∑ É…ô¬∑ri/", thai: "‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤"}, {word: "map", ipa:"/m√¶p/", thai: "‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà"}, {word: "market", ipa:"/Ààm…ër¬∑k…™t/", thai: "‡∏ï‡∏•‡∏≤‡∏î"}, {word: "meet", ipa:"/mit/", thai: "‡∏û‡∏ö"}, {word: "memorable", ipa:"/Ààmem¬∑…ôr¬∑…ô¬∑b…ôl/", thai: "‡∏ô‡πà‡∏≤‡∏à‡∏î‡∏à‡∏≥"}, {word: "money", ipa:"/Ààm ån¬∑i/", thai: "‡πÄ‡∏á‡∏¥‡∏ô"}, {word: "monument", ipa:"/Ààm…ën¬∑j…ô¬∑m…ônt/", thai: "‡∏≠‡∏ô‡∏∏‡∏™‡∏≤‡∏ß‡∏£‡∏µ‡∏¢‡πå"}, {word: "mountain", ipa:"/Ààma än¬∑t…ôn/", thai: "‡∏†‡∏π‡πÄ‡∏Ç‡∏≤"}, {word: "museum", ipa:"/mjuÀàzi¬∑…ôm/", thai: "‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏ì‡∏ë‡πå"}, {word: "music", ipa:"/Ààmju¬∑z…™k/", thai: "‡∏î‡∏ô‡∏ï‡∏£‡∏µ"}, {word: "nature", ipa:"/Ààne…™¬∑t É…ôr/", thai: "‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥"}, {word: "near", ipa:"/n…™…ôr/", thai: "‡πÉ‡∏Å‡∏•‡πâ"}, {word: "need", ipa:"/nid/", thai: "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£"}, {word: "neighbor", ipa:"/Ààne…™¬∑b…ôr/", thai: "‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ö‡πâ‡∏≤‡∏ô"}
        ];

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        shuffleArray(allWords);

        const vocabularyByLevel = [];
        const wordsPerLevel = 15;
        for (let i = 0; i < allWords.length; i += wordsPerLevel) {
            vocabularyByLevel.push(allWords.slice(i, i + wordsPerLevel));
        }

        const rewards = {
            common: ["‡πÑ‡∏°‡πâ‡πÄ‡∏ó‡πâ‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ ü™µ", "‡πÇ‡∏•‡πà‡πÑ‡∏°‡πâ‡πÄ‡∏Å‡πà‡∏≤‡πÜ üõ°Ô∏è", "‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á ü•â"],
            uncommon: ["‡πÄ‡∏Ç‡πá‡∏°‡∏ó‡∏¥‡∏®‡∏ô‡∏±‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á üß≠", "‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏ö‡∏£‡∏≤‡∏ì üìú", "‡∏≠‡∏±‡∏ç‡∏°‡∏ì‡∏µ‡∏™‡∏µ‡∏ü‡πâ‡∏≤ üíé"],
            rare: ["‡∏î‡∏≤‡∏ö‡πÄ‡∏´‡∏•‡πá‡∏Å‡∏Å‡∏•‡πâ‡∏≤ ‚öîÔ∏è", "‡∏°‡∏á‡∏Å‡∏∏‡∏é‡πÄ‡∏á‡∏¥‡∏ô üëë", "‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡∏ü‡∏∑‡πâ‡∏ô‡∏û‡∏•‡∏±‡∏á ‚ú®"],
            epic: ["‡∏Ñ‡∏ó‡∏≤‡πÄ‡∏ß‡∏ó‡∏°‡∏ô‡∏ï‡∏£‡πå ü™Ñ", "‡πÄ‡∏Å‡∏£‡∏≤‡∏∞‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥ üåü", "‡πÑ‡∏Ç‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÉ‡∏ô‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô üê≤"]
        };
        
        const TOTAL_WORDS = 300;
        const MAX_SCORE = 10;
        const SCORE_PER_WORD = MAX_SCORE / TOTAL_WORDS;

        let currentLevel = 0;
        let currentWordIndex = 0;
        let totalScore = 0;
        let isListening = false;
        let currentWordCorrect = false;
        let levelAccuracyScores = [];

        const gameScreen = document.getElementById('game-screen');
        const levelDisplay = document.getElementById('level-display');
        const wordProgressDisplay = document.getElementById('word-progress-display');
        const scoreDisplay = document.getElementById('score-display');
        const wordDisplay = document.getElementById('word-display');
        const ipaDisplay = document.getElementById('ipa-display');
        const thaiDisplay = document.getElementById('thai-display');
        const listenButton = document.getElementById('listen-button');
        const speakButton = document.getElementById('speak-button');
        const resultDisplay = document.getElementById('result-display');
        const resultText = document.getElementById('result-text');
        const nextButton = document.getElementById('next-button');
        const rewardModal = document.getElementById('reward-modal');
        const treasureChestIcon = document.getElementById('treasure-chest-icon');
        const rewardItemName = document.getElementById('reward-item-name');
        const closeRewardButton = document.getElementById('close-reward-button');

        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        let recognition;
        if(SpeechRecognition) {
            recognition = new SpeechRecognition();
            recognition.lang = 'en-US';
            recognition.continuous = false;
            recognition.interimResults = false;
        }
        
        function startGame() {
            document.getElementById('loading-screen')?.remove();
            document.getElementById('auth-screen')?.remove();
            gameScreen.style.display = 'block';

            currentWordCorrect = false;
            levelAccuracyScores = [];
            rewardModal.classList.remove('active');
            updateDisplay();
        }

        function updateDisplay() {
            if (currentLevel >= vocabularyByLevel.length) {
                showGameComplete();
                return;
            }
            const currentWordData = vocabularyByLevel[currentLevel][currentWordIndex];
            levelDisplay.textContent = currentLevel + 1;
            wordProgressDisplay.textContent = `${currentWordIndex + 1} / ${vocabularyByLevel[currentLevel].length}`;
            scoreDisplay.textContent = totalScore.toFixed(2);
            wordDisplay.textContent = currentWordData.word;
            ipaDisplay.textContent = currentWordData.ipa;
            thaiDisplay.textContent = currentWordData.thai;
            resultDisplay.className = 'mt-6 p-4 rounded-lg min-h-[100px] flex items-center justify-center transition-all duration-300 bg-gray-100';
            resultText.textContent = "‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á...";
            speakButton.disabled = false;
            speakButton.classList.add('pulse-animation');
            nextButton.style.display = 'none';
        }

        function handleNextWord() {
            currentWordIndex++;
            if (currentWordIndex >= vocabularyByLevel[currentLevel].length) {
                showLevelComplete();
            } else {
                currentWordCorrect = false;
                updateDisplay();
            }
        }
        
        function getRewardItem(avgAccuracy) {
            let tier;
            if (avgAccuracy > 0.95) tier = 'epic';
            else if (avgAccuracy > 0.85) tier = 'rare';
            else if (avgAccuracy > 0.70) tier = 'uncommon';
            else tier = 'common';
            
            const tierRewards = rewards[tier];
            const randomItem = tierRewards[Math.floor(Math.random() * tierRewards.length)];
            return { item: randomItem, tier: tier };
        }

        function showLevelComplete() {
            const avgAccuracy = levelAccuracyScores.length > 0 ? levelAccuracyScores.reduce((a, b) => a + b, 0) / levelAccuracyScores.length : 0;
            const { item, tier } = getRewardItem(avgAccuracy);
            
            rewardItemName.textContent = item;
            rewardModal.classList.add('active');
            
            treasureChestIcon.textContent = 'üì¶';
            treasureChestIcon.classList.remove('chest-open');
            
            setTimeout(() => {
                treasureChestIcon.textContent = 'üéÅ';
                treasureChestIcon.classList.add('chest-open');
            }, 500);
            
            currentLevel++;
            currentWordIndex = 0;
        }
        
        function showGameComplete() {
             gameScreen.innerHTML = `<div class="card">
                <h2 class="text-3xl font-bold mb-4">‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î‡∏°‡∏≤‡∏Å! üèÜ</h2>
                <p class="text-xl mb-6">‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏î‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢: ${totalScore.toFixed(2)} / 10</p>
                <button id="restart-button" class="btn btn-primary w-full">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
            </div>`;
            document.getElementById('restart-button').addEventListener('click', () => {
                location.reload();
            });
        }

        function startListening() {
            if (isListening || !recognition) return;
            isListening = true;
            speakButton.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏±‡∏á...';
            speakButton.disabled = true;
            speakButton.classList.remove('pulse-animation');
            recognition.start();
        }

        function onRecognitionResult(event) {
            const spokenText = event.results[0][0].transcript.trim().toLowerCase();
            const confidence = event.results[0][0].confidence;
            const targetWord = vocabularyByLevel[currentLevel][currentWordIndex].word.toLowerCase();
            if (spokenText.includes(targetWord) && confidence >= 0.60) {
                currentWordCorrect = true;
                if (!levelAccuracyScores.includes(confidence)) { 
                    totalScore += SCORE_PER_WORD;
                    levelAccuracyScores.push(confidence);
                }
                resultDisplay.className = 'mt-6 p-4 rounded-lg min-h-[100px] flex items-center justify-center transition-all duration-300 bg-green-100 text-green-800';
                resultText.innerHTML = `‚úîÔ∏è ‡∏ú‡πà‡∏≤‡∏ô! (${(confidence * 100).toFixed(0)}%)<br>‡∏Ñ‡∏∏‡∏ì‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤: <span class="font-bold">${spokenText}</span>`;
                nextButton.style.display = 'block';
                speakButton.disabled = true;
                scoreDisplay.textContent = totalScore.toFixed(2);
            } else {
                currentWordCorrect = false;
                resultDisplay.className = 'mt-6 p-4 rounded-lg min-h-[100px] flex items-center justify-center transition-all duration-300 bg-red-100 text-red-800';
                resultText.innerHTML = spokenText.includes(targetWord) 
                    ? `‚ùå ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ï‡πà‡∏≥ (${(confidence * 100).toFixed(0)}%) ‡∏•‡∏≠‡∏á‡∏û‡∏π‡∏î‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô<br>‡∏Ñ‡∏∏‡∏ì‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤: <span class="font-bold">${spokenText}</span>`
                    : `‚ùå ‡∏Ñ‡∏≥‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á<br>‡∏Ñ‡∏∏‡∏ì‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤: <span class="font-bold">${spokenText}</span>`;
                speakButton.disabled = false;
                speakButton.classList.add('pulse-animation');
            }
        }

        function speakCorrectWord() {
            const textToSpeak = vocabularyByLevel[currentLevel][currentWordIndex].word;
            const utterance = new SpeechSynthesisUtterance(textToSpeak);
            utterance.lang = 'en-US';
            utterance.rate = 0.9;
            speechSynthesis.speak(utterance);
        }

        listenButton.addEventListener('click', speakCorrectWord);
        speakButton.addEventListener('click', startListening);
        nextButton.addEventListener('click', handleNextWord);
        closeRewardButton.addEventListener('click', () => {
            startGame();
        });

        if (recognition) {
            recognition.onresult = onRecognitionResult;
            recognition.onend = () => {
                isListening = false;
                if (!currentWordCorrect) {
                     speakButton.textContent = 'üé§ ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î';
                     speakButton.disabled = false;
                }
            };
            recognition.onerror = (event) => {
                console.error("Speech recognition error:", event.error);
                resultText.textContent = `‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${event.error}`;
                speakButton.disabled = false;
            };
        } else {
             document.getElementById('speak-button').disabled = true;
             document.getElementById('speak-button').textContent = "‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö";
             resultText.textContent = "‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢ ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏π‡πâ‡∏à‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏π‡∏î";
        }

        // --- App Initialization ---
        window.onload = startGame;

    </script>
</body>
</html>
